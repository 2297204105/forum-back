(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a6045da"],{"45a5":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("input",{ref:"img",staticStyle:{position:"absolute",top:"-100%"},attrs:{type:"file"},on:{change:t.chooseImg}}),t._v(" "),i("div",{staticClass:"upload-img",on:{click:t.uploadImg}},[t._m(0),t._v(" "),""!==t.imgUrl?i("img",{attrs:{src:t.imgUrl,width:"100%"}}):t._e()]),t._v(" "),i("span",{staticClass:"deepInput"},[i("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),i("div",{staticClass:"editorMenu",attrs:{id:"test1"}}),t._v(" "),t._m(1),t._v(" "),i("span",{staticClass:"deepButton"},[i("el-button",{attrs:{type:"primary"},on:{click:t.publish}},[t._v("发 表")])],1)])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shade"},[i("i",{staticClass:"el-icon-camera-solid"}),t._v(" "),i("span",[t._v("添加图片")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editorContent",attrs:{id:"test2"}},[i("p",[t._v("请输入内容")])])}],a=(i("28a5"),i("1a0b")),o=i.n(a),r={name:"Write",data:function(){return{title:"",imgBase64:"",imgUrl:"",editor1:new o.a("#test1","#test2")}},mounted:function(){this.editor1.customConfig.menus=["head","bold","fontSize","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","emoticon","image","table","undo","redo"],this.editor1.customConfig.zIndex=1,this.editor1.create()},methods:{publish:function(){var t=this.editor1.txt.html();this.$axios({url:"article",method:"post",data:{imgBase64:this.imgBase64,title:this.title,content:t,userId:this.$store.getters.userId}}).then((function(t){console.log(t)}))},chooseImg:function(){var t=this;this.base64(this.$refs.img.files[0]).then((function(e){var i=e.split(",")[1];t.imgUrl=e,t.imgBase64=i}))},test:function(){console.log(this.editor1.txt.html())},base64:function(t){return new Promise((function(e,i){var s=new FileReader;s.readAsDataURL(t),s.onload=function(t){var i=t.target.result;e(i)}}))},uploadImg:function(){this.$refs.img.click()}}},l=r,c=(i("e708"),i("2877")),u=Object(c["a"])(l,s,n,!1,null,"3571241f",null);e["default"]=u.exports},e708:function(t,e,i){"use strict";var s=i("f3d0"),n=i.n(s);n.a},f3d0:function(t,e,i){}}]);